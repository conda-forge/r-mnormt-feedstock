{% set version = "1.5-6" %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mnormt
  version: {{ version|replace("-", "_") }}

source:
  fn: mnormt_{{ version }}.tar.gz
  url:
    - {{ cran_mirror }}/src/contrib/mnormt_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mnormt/mnormt_{{ version }}.tar.gz
  sha256: 2951fcc9711d577d7d5577d313875c4ed9f7a7a06df8c3b62fa27c231f021e4d

build:
  merge_build_host: True  # [win]
  number: 0
  skip: true  # [win32]
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}        # [not win]
    - {{ compiler('fortran') }}  # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('m2w64_fortran') }}        # [win]
    - {{posix}}filesystem        # [win]
    - {{posix}}make
    - {{posix}}sed               # [win]
    - {{posix}}coreutils         # [win]
    - {{posix}}zip               # [win]
  host:
    - r-base
  run:
    - r-base
    - {{native}}gcc-libs         # [win]

test:
  commands:
    - $R -e "library('mnormt')"           # [not win]
    - "\"%R%\" -e \"library('mnormt')\""  # [win]

about:
  home: http://azzalini.stat.unipd.it/SW/Pkg-mnormt
  license: GPL-2 | GPL-3
  summary: Functions are provided for computing the density and the distribution function of
    multivariate normal and "t" random variables, and for generating random vectors
    sampled from these distributions.   Probabilities are computed via non-Monte Carlo
    methods; different routines  are used in the case d=1, d=2, d>2, if d denotes the
    number of dimensions.
  license_family: GPL3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
    - cbrueffer
    - dbast
